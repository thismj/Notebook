# 计算机网络

## 网络模型



## HTTP

### HTTP是什么

HTTP：超文本传输协议（**H**yper**T**ext **T**ransfer **P**rotocol）

HTTP是一个在计算机世界里专门在两点之间传输文本、图片、音频、视频等超文本数据的约定和规范。

### HTTP版本

| 版本     | 说明                                                         | 备注                                                         |
| -------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| HTTP/0.9 | 第一个HTTP版本，诞生于1991年，只支持GET请求方式，且没有请求头，只能传输纯文本（HTML格式）文件 |                                                              |
| HTTP/1.0 | 1996年，HTTP/1.0 发布，内容大大增加：      增加请求头与响应头<br />增加响应状态码；<br />能传输任意格式的文件；<br />增加缓存机制<br />增加POST、HEAD等请求方法<br />...... | 短连接，每一次请求建立一个TCP连接（三次握手），请求完毕之后立马断开，性能较差（为了解决这个问题，有些浏览器在请求时，用了一个非标准请求头 `Connection:keep-alive`，要求服务器不要关 TCP连接） |
| HTTP/1.1 | 1997 年，HTTP/1.1 版本发布，它进一步完善了 HTTP 协议，直到现在还是最流行的版本:<br />增加范围请求头<br />管道机制<br />新增 `PUT`、`HEAD`、`OPTIONS`、`DELETE` 等请求方法<br />新增 Host 字段<br />...... | 默认支持长连接。即 TCP 连接默认不关闭，可以被多个请求复用，不用声明 Connection: keep-alive<br />管道（Pipelining）其实是把多个HTTP请求放到一个TCP连接中一一发送，而在发送过程中不需要等待服务器对前一个请求的响应；只不过，客户端还是要按照发送请求的顺序来接收响应，所以还是会有 「队头堵塞」（Head-of-line blocking） 的问题 |
| HTTP/2.0 | 二进制格式<br />多路复用（二进制分帧）<br />header头部压缩<br />服务端推送 | 二进制分帧，因为每一帧都有一个身份标识，所以多个请求的不同帧可以并发的无序发送出去，在服务端会根据每一帧的身份标识，将其整理到对应的 request 中 |



### HTTP请求方法

### HTTP常见状态码

| 状态码 | 原因短语                                                     | 说明 | 备注 |
| --- | --- | --- | --- |
| 100 | Continue | 客户端发送数据前，首先发送询问请求（添加请求头 Expect:100-continue ），如果服务器接受该请求，则返回 100 Continue，代表客户端可以继续发送数据 |  |
| 200 | OK | 请求成功。一般用于GET与POST请求 |  |
| 204 | No Content | 服务器成功处理，但是不返回数据。 | 浏览器点击新的链接如果返回204，则地址栏不会刷新也不会跳转到新的页面；如果返回的是200状态码不带响应内容，则地址栏会刷新且跳转到一个空白页面 |
| 206 | Partial Content | 成功执行了一个Range(范围)请求。 | 客户端指定请求头`Range:bytes=1234-` 进行范围请求（断点续传），指定请求头 `If-Range` 如果资源有变化则从头下载（服务器此时返回 200 OK）；服务端返回响应头 `Accept-Ranges:bytes` 表示支持范围请求； |
| 301 | Moved Permanently | 永久重定向，目标资源永久移动 | 服务器返回响应头 `Location` 指定新的 URL |
| 302 | Found | 临时重定向，目标资源临时移动 | 服务器返回响应头 `Location` 指定新的 URL，一般情况下都会实现为到 GET 的重定向，不能确保 POST 会重定向为 POST |
| 303    | See Other | 临时重定向，从语义上讲，重定向到的资源并不是你所请求的资源，而是对你所请求资源的一些描述。 | 服务器返回响应头 `Location` 指定新的 URL；不管原请求是什么方法，重定向请求的方法都是 GET |
| 304 | Not Modified | 所请求的资源未修改，服务器返回此状态码时，不会返回任何资源 | 客户端指定请求头 `If-Modified-Since`、`If-None-Match` ，如果在指定的条件下资源未发生改变，则服务器返回304 |
| 307 | Temporary Redirect | 临时重定向，目标资源临时移动 | 服务器返回响应头 `Location` 指定新的 URL；不允许将原本为 POST 的请求重定向到 GET 请求上 |
| 308 | Permanent Redirect | 永久重定向，目标资源永久移动 | 服务器返回响应头 `Location` 指定新的 URL；不允许将原本为 POST 的请求重定向到 GET 请求上 |
| 400 | Bad Request | 客户端请求的语法错误，服务器无法理解 |  |
| 401 | Unauthorized | 请求要求用户的身份认证 | 服务器响应头部增加 `WWW-Authenticate` 指明身份验证方式；客户端如果有意向证明身份应该在新的请求中增加 `Authorization` 首部 |
| 403 | Forbidden | 服务器成功解析请求但是客户端没有访问该资源的权限 |  |
| 404 | Not Found | 服务器无法根据客户端的请求找到资源（网页）。通过此代码，网站设计人员可设置"您所请求的资源无法找到"的个性页面 |  |
| 405 | Method Not Allowed | 客户端请求中的方法被禁止 |  |
| 500 | Internal Server Error | 服务器内部错误，无法完成请求 |  |
| 503 | Service Unavailable | 服务器停机维护或者已超载 | 发送该响应的时候，应该同时发送一个对用户友好的页面来解释问题发生的原因 |



### URI、URL、URN的区别

URI：统一资源标识符（**U**niform **R**esource **I**dentifier）

URL：统一资源定位符（**U**niform **R**esource **L**ocator）

URN：统一资源名称（**U**niform **R**esource **N**ame）

URI有两种实现，一是以定位信息来标识资源的URL，二是以名字编号来标识资源的URN

[HTTP 协议中 URI 和 URL 有什么区别？](HTTP 协议中 URI 和 URL 有什么区别？ - daixinye的回答 - 知乎 https://www.zhihu.com/question/21950864/answer/154309494)

### DNS

DNS：域名系统（**D**omain **N**ame **S**ystem）

DNS的作用是把域名转换为IP地址，这个过程叫做 “域名解析”。DNS的核心系统是一个三层的树桩、分布式服务：

* 根域名服务器（Root DNS Server），返回 “com”、“net”、“cn”等顶级域名的 IP 地址
* 顶级域名服务器（Top-Level DNS Server），管理权威域名服务器，返回 “apple.com” 等 域名服务器的 IP 地址
* 权威域名服务器（Authoritative DNS Server），管理自己域名下的主机的 IP 地址，返回 “www.apple.com” 的 IP 地址

[DNS原理及解析过程](https://tojohnonly.github.io/68-DNS%E5%8E%9F%E7%90%86%E5%8F%8A%E8%A7%A3%E6%9E%90%E8%BF%87%E7%A8%8B.html)

![](https://images2015.cnblogs.com/blog/464291/201707/464291-20170703113844956-354755333.jpg)

## TCP

### TCP的三次握手

## IP



## 抓包工具

### tcpdump



